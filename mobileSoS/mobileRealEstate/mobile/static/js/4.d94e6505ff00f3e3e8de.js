webpackJsonp([4],{"46af":function(e,t,n){"use strict";(function(e){n("gBKf");var i=n("Q53R");t.a={data:function(){return{park:{},common:[],garden:[],nowPage:1,numAll:0,img:[1],check:0,name:"",nameAll:[],fullCheck:1,startX:0,endX:0,x:0,control:0,imgLeft:-400}},created:function(){var t=this;this.$axios.get("/surround/publicUtilities/get").then(function(n){if(t.park=n.data.data,t.park.forEach(function(e){1==e.imageType?t.common.push(e):0==e.imageType&&t.garden.push(e)}),t.numAll=t.park.length,t.common[0]&&t.garden[0]){for(var s=1;s<t.common.length+1;s++)t.common[s-1]&&(t.img[s]=Object(i.a)(t.common[s-1].imageLocation,3));for(var a=t.common.length+1,o=t.common.length+1;o<t.numAll;o++)t.garden[o-a]&&(t.img[o]=Object(i.a)(t.garden[o-a].imageLocation,3));t.img[0]=Object(i.a)(t.garden[t.garden.length-1].imageLocation,3),t.check=1}if(t.common[0]&&t.garden[0]){for(var c=1;c<=t.common.length;c++)t.common[c-1]&&(t.nameAll[c]=t.common[c-1].placeTypName);for(var r=t.common.length+1,l=t.common.length+1;l<t.numAll;l++)t.garden[l-r]&&(t.nameAll[l]=t.garden[l-r].placeTypName);t.nameAll[0]=t.garden[t.garden.length-1].placeTypName,t.name=t.nameAll[1]}t.img.length>1?(t.imgLeft=-1*window.innerWidth,e(".conPic").eq(0).css("marginLeft",t.imgLeft+"px")):e(".conPic").eq(0).css("marginLeft","0px")}).catch(function(e){console.log(e)})},mounted:function(){document.title="园林美景"},methods:{go:function(){this.$router.push("/index")},isFullscreen:function(){return document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||!1},touchstart:function(e){!this.isFullscreen()&&this.img.length>1?(this.startX=parseInt(e.touches[0].clientX),this.imgLeft=-1*window.innerWidth,this.control=this.imgLeft):this.startX=parseInt(e.touches[0].clientX)},touchmove:function(e){!this.isFullscreen()&&this.img.length>1?(this.endX=parseInt(e.touches[0].clientX),this.x=this.endX-this.startX,this.imgLeft=this.control+this.x,document.getElementsByClassName("conPic")[0].style.marginLeft=this.imgLeft+"px"):this.endX=parseInt(e.touches[0].clientX)},touchend:function(e){if(!this.isFullscreen()&&this.img.length>1){if(this.x=this.endX-this.startX,this.x>0&&this.x<window.innerWidth&&0!=this.endX){var t=this.img.length-1,n=document.getElementsByClassName("conPic")[0],i=document.getElementsByClassName("conPic")[t],s=document.getElementsByClassName("pic")[0];n.style.marginLeft=0;i.parentNode.removeChild(i),s.insertBefore(i,n),i.style.marginLeft=-1*window.innerWidth+"px",1==this.nowPage?this.nowPage=this.numAll:this.nowPage--,this.name=this.nameAll[this.nowPage-1]}else if(this.x<0&&this.x>-1*window.innerWidth&&0!=this.endX){var a=document.getElementsByClassName("conPic")[0];a.style.marginLeft=-2*window.innerWidth+"px";var o=a;a.parentNode.removeChild(a),o.style.marginLeft=0,document.getElementsByClassName("conPic")[0].style.marginLeft=-1*window.innerWidth+"px",document.getElementsByClassName("pic")[0].appendChild(o),this.nowPage==this.numAll?this.nowPage=1:this.nowPage++,this.name=this.nameAll[this.nowPage-1]}0==this.endX&&document.getElementsByClassName("conPic")[1].click(),this.endX=0}else this.x=this.endX-this.startX,this.x<0&&document.getElementsByClassName("conPic")[0].click()},scale:function(){if(document.getElementsByClassName("conPic")[1]){for(var e=[],t=0;t<this.img.length-1;t++)e[t]=this.img[t+1];e[this.img.length-1]=this.img[0],"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)&&WeixinJSBridge.invoke("imagePreview",{current:document.getElementsByClassName("conPic")[1].src,urls:e})}else if(document.getElementsByClassName("conPic")[0]){var n=[];n[0]=this.img[0],"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)&&WeixinJSBridge.invoke("imagePreview",{current:document.getElementsByClassName("conPic")[0].src,urls:n})}}},components:{},watch:{park:function(){}}}}).call(t,n("7t+N"))},AjcD:function(e,t){},eWuO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("46af"),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("img",{attrs:{src:n("+KS6"),alt:""},on:{click:function(t){e.go()}}})]),e._v(" "),i("div",{staticClass:"middle"},[i("div",{staticClass:"pic"},e._l(e.img,function(t){return i("img",{directives:[{name:"show",rawName:"v-show",value:e.check,expression:"check"}],staticClass:"conPic",staticStyle:{width:"100%"},attrs:{src:t,alt:""},on:{click:function(t){e.scale()},touchstart:function(t){return t.stopPropagation(),t.preventDefault(),e.touchstart(t)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.touchmove(t)},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.touchend(t)}}})})),e._v(" "),i("div",{staticClass:"intro"},[e._v("\n            "+e._s(e.name)+"展示图\n            ")]),e._v(" "),i("div",{staticClass:"pageNum"},[i("span",[e._v(e._s(e.nowPage)+"/"+e._s(e.numAll))])])])])},staticRenderFns:[]};var a=function(e){n("AjcD")},o=n("VU/8")(i.a,s,!1,a,"data-v-17494008",null);t.default=o.exports},gBKf:function(e,t,n){"use strict";var i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bottomNav"},[t("div",{staticClass:"choose"},[t("div",{class:this.typeClassOne,attrs:{id:"around"},on:{click:this.changeOne}},[t("router-link",{attrs:{to:"/nearBy/park/around"}},[this._v("周边设施")])],1),this._v(" "),t("div",{class:this.typeClassTwo,on:{click:this.changeTwo}},[t("router-link",{attrs:{to:"/nearBy/park/parkView"}},[this._v("园林美景")])],1)])])},staticRenderFns:[]};var s=n("VU/8")({name:"bottomNavBar",data:function(){return{typeClassOne:"active",typeClassTwo:"noActive"}},mounted:function(){"/nearBy/park/around"==this.$route.path?(this.typeClassOne="active",this.typeClassTwo="noActive"):"/nearBy/park/parkView"==this.$route.path&&(this.typeClassOne="npActive",this.typeClassTwo="active")},methods:{changeOne:function(){this.typeClassOne="active",this.typeClassTwo="noActive"},changeTwo:function(){this.typeClassTwo="active",this.typeClassOne="noActive"}}},i,!1,function(e){n("jJlr")},"data-v-2abf3324",null);t.a=s.exports},jJlr:function(e,t){}});
//# sourceMappingURL=4.d94e6505ff00f3e3e8de.js.map