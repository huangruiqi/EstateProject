{"version":3,"sources":["webpack:///./src/views/houseTypePage/planPage/plan.vue?f4e8","webpack:///./src/views/houseTypePage/planPage/plan.vue","webpack:///src/views/houseTypePage/planPage/plan.vue"],"names":["planPage_plan","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","imgPlanBack","alt","id","on","touchstart","$event","stopPropagation","preventDefault","touchmove","touchend","_v","_m","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","plan","__webpack_exports__","data","typeClassChangeTwo","typeClassChange","dataAll","houseNum","title","created","_this","$route","query","$axios","get","then","res","houseTypeName","Object","__WEBPACK_IMPORTED_MODULE_0__utils_getImage_js__","houseTypeImageLocation","catch","error","console","log","mounted","_this2","document","$on","val","$emit","methods","goHistory","$router","push","requestFullScreen","de","getElementsByClassName","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","$","click","exitFullscreen","mozCancelFullScreen","webkitCancelFullScreen","isFullscreen","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","getHouseTwo","housePlans","houseTypeImage","image","min","components","watch","setInterval","onclick","img","eq","attr","navigator","userAgent","toLowerCase","match","WeixinJSBridge","invoke","current","urls"],"mappings":"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","file":"static/js/9.4eb92fd8e8d532da6730.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('img',{staticClass:\"picA\",attrs:{\"src\":_vm.imgPlanBack,\"alt\":\"\",\"id\":\"targetObj\"},on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.touchstart($event)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.touchmove($event)},\"touchend\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.touchend($event)}}}),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pageNum\"},[_c('span',[_vm._v(\"1/1\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-485faa1a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/houseTypePage/planPage/plan.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-485faa1a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./plan.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./plan.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./plan.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-485faa1a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./plan.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-485faa1a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/houseTypePage/planPage/plan.vue\n// module id = null\n// module chunks = ","<template>\n<!-- :style=\"{backgroundImage: 'url(' + imgPlanBack + ')'}\" -->\n<!-- v-lazy:background-image='imgPlanBack' -->\n  <div class=\"content\">\n    <img :src='imgPlanBack' alt=\"\" class=\"picA\" id=\"targetObj\" @touchstart.stop.prevent=\"touchstart\" @touchmove.stop.prevent=\"touchmove\" @touchend.stop.prevent=\"touchend\">\n    <!-- <img src=\"../../../assets/img/rightHouseNav/fullScreen.png\" class=\"full\"> -->\n    <div class=\"pageNum\">\n      <span>1/1</span>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport getImage from '../../../utils/getImage.js'\nexport default {\n  data() {\n    return {\n        typeClassChangeTwo: \"noActiveTwo\",//传给bottom没有被点击的盒子样式\n        typeClassChange: \"activeTwo\",//传给bottom被点击的盒子样式\n        imgPlanBack: \"\",\n        dataAll: [],\n        houseNum: 0,\n        title: ''\n    }\n  },\n  created() {\n    if (this.$route.query.houseNum) {\n      this.houseNum = this.$route.query.houseNum;\n    }\n    this.$axios.get(\"/house/houseType/get\")\n    .then(res => {\n      this.title = res.data.data;\n        if(this.title[this.houseNum]) {\n          this.$axios.get(\"/house/houseTypeImage/get?houseTypeName=\" + this.title[this.houseNum].houseTypeName)\n          .then(res => { \n            this.dataAll = res.data.data;\n            this.imgPlanBack = getImage(this.dataAll.houseTypeImageLocation, 3);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n        }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  },\n  mounted(){\n    document.title = '平面图';\n    this.$on('giveNum', (val) => { \n      if (this.houseNum != val && this.title[val]) {\n        this.houseNum = val;\n        if(this.title[this.houseNum]) {\n          this.$axios.get(\"/house/houseTypeImage/get?houseTypeName=\" + this.title[this.houseNum].houseTypeName)\n          .then(res => { \n            this.dataAll = res.data.data;\n            this.imgPlanBack = this.dataAll && this.dataAll.houseTypeImageLocation && getImage(this.dataAll.houseTypeImageLocation, 3);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n        }\n      }\n      this.$emit('checkVR', val, 2);\n    });\n  },\n  methods: {\n      //点击返回\n      goHistory() {\n          this.$router.push('/index');\n      },\n      requestFullScreen() {  \n        let de = document.getElementsByClassName('picA')[0];  \n        if (de.requestFullscreen) {  \n            de.requestFullscreen();  \n        } else if (de.mozRequestFullScreen) {  \n            de.mozRequestFullScreen();  \n        } else if (de.webkitRequestFullScreen) {  \n            de.webkitRequestFullScreen();  \n        }  \n        \n        $('.picA').click(() => {\n          if (document.exitFullscreen) {  \n            document.exitFullscreen();  \n          } else if (document.mozCancelFullScreen) {  \n            document.mozCancelFullScreen();  \n          } else if (document.webkitCancelFullScreen) {  \n            document.webkitCancelFullScreen();  \n          }  \n        });\n      },\n      //判断是否全屏\n      isFullscreen(){\n        return document.fullscreenElement    ||\n               document.msFullscreenElement  ||\n               document.mozFullScreenElement ||\n               document.webkitFullscreenElement || false;\n      },\n      //退出全屏  \n      exitFullscreen() {    \n          if(this.isFullscreen()) {\n            $('.picA').click(() => {\n              if (document.exitFullscreen) {  \n                  document.exitFullscreen();  \n              } else if (document.mozCancelFullScreen) {  \n                  document.mozCancelFullScreen();  \n              } else if (document.webkitCancelFullScreen) {  \n                  document.webkitCancelFullScreen();  \n              }  \n            });\n          }else {\n\n          }\n      },\n\n      touchstart() {\n\n      },\n      touchmove() {\n\n      },\n      touchend() {\n        document.getElementsByClassName('picA')[0].click();\n      },\n      //得到户型\n      getHouseTwo() {\n        this.imgPlanBack = this.dataAll[this.houseNum].housePlans[0].houseTypeImage.image.min;\n      }\n  },\n  components: {\n\n  },\n  watch: {\n    dataAll() {\n      // $('.full').click(() => {\n      //   // this.requestFullScreen();\n      //   let img = [];\n      //   img.push($('.pic').eq(0).attr('src'));\n      //   WeixinJSBridge.invoke('imagePreview', {    \n      //     'current': $('.pic').eq(0).attr('src'),\n      //     'urls': img\n      //   }); \n      // });\n      let time = setInterval(() => {\n        if (document.getElementsByClassName('picA')[0]) {\n          document.getElementsByClassName('picA')[0].onclick = () => {\n            // console.log(document.getElementsByClassName('pic')[0].src);\n            // alert(55);\n            let img = [];\n            img.push($('.picA').eq(0).attr('src'));\n            var agent = navigator.userAgent.toLowerCase();\n            if (agent.match(/MicroMessenger/i) == \"micromessenger\") {\n                // return true;\n              WeixinJSBridge.invoke('imagePreview', {    \n                'current': document.getElementsByClassName('picA')[0].src,\n                'urls': img\n              }); \n            } else {\n                // return false;\n            }\n          }\n        }\n      //   this.exitFullscreen();\n      }, 100);\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import '../../../styles/main.scss';\n@import '../../../styles/mixin.scss';\n\n.content {\n  width: 100%;\n  height: 100%;\n  @include fj();\n  flex-direction: column;\n  position: relative;\n  .picA {\n    width: 100%;\n    height: px2rem(562);\n    background-repeat: no-repeat;\n    background-size: 100% 100%;\n  }\n  .full {\n    width: px2rem(64);\n    position: absolute;\n    top: px2rem(480);\n    right: px2rem(30);\n  }\n  .pageNum {\n    width: 100%;\n    height: px2rem(30);\n    position: relative;\n    span {\n      position: absolute;\n      right: px2rem(61);\n      @include fontSize(23);\n      color: #c9c9c9;;\n    }\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/houseTypePage/planPage/plan.vue"],"sourceRoot":""}