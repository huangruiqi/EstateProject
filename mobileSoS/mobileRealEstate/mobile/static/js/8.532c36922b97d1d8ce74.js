webpackJsonp([8],{J5rW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("gOYZ"),s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("div",{staticClass:"pic"},e._l(e.img,function(t){return n("img",{directives:[{name:"show",rawName:"v-show",value:e.check,expression:"check"}],staticClass:"conPic",attrs:{src:t,alt:""},on:{click:function(t){e.scale()},touchstart:function(t){return t.stopPropagation(),t.preventDefault(),e.touchstart(t)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.touchmove(t)},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.touchend(t)}}})})),e._v(" "),n("div",{staticClass:"intro"},[e._v("\n        "+e._s(e.name)+"展示图\n        ")]),e._v(" "),n("div",{staticClass:"pageNum"},[n("span",[e._v(e._s(e.nowPage)+"/"+e._s(e.houseSampleRoomsNum))])])])},staticRenderFns:[]};var o=function(e){n("jnHU")},m=n("VU/8")(i.a,s,!1,o,"data-v-5e13f149",null);t.default=m.exports},gOYZ:function(e,t,n){"use strict";(function(e){var i=n("Q53R");t.a={data:function(){return{house:{},houseSampleRoomsNum:0,houseNum:0,nowPage:1,name:"",img:[1],check:0,fullCheck:1,startX:0,endX:0,x:0,control:0,imgLeft:-400,numA:0,title:""}},created:function(){var t=this;this.$axios.get("/house/houseType/get").then(function(n){t.title=n.data.data,t.title[0]&&t.$axios.get("/house/sampleRoomImage/get?houseTypeName="+t.title[0].houseTypeName).then(function(n){if(t.house=n.data.data,t.house[t.houseNum]&&t.house[t.houseNum].sampleRoomImageLocation){t.houseSampleRoomsNum=t.house.length,t.imgSrc=t.house;for(var s=0;s<t.houseSampleRoomsNum-1;s++)t.img[s+1]=Object(i.a)(t.imgSrc[s].sampleRoomImageLocation,3);t.img[0]=Object(i.a)(t.imgSrc[t.houseSampleRoomsNum-1].sampleRoomImageLocation,3),t.check=1,t.name=t.imgSrc[0].roomTypeName,t.imgSrc.length>1?(t.imgLeft=-1*window.innerWidth,e(".conPic").eq(0).css("marginLeft",t.imgLeft+"px")):e(".conPic").eq(0).css("marginLeft","0px")}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},mounted:function(){var t=this;document.title="样板间",this.imgLeft=-1*window.innerWidth,this.$on("giveNum",function(n){t.$emit("checkVR",n,1),t.houseNum!=n&&t.title[n]&&(t.houseNum=n,t.$axios.get("/house/sampleRoomImage/get?houseTypeName="+t.title[n].houseTypeName).then(function(n){if(t.$forceUpdate(),t.house=n.data.data,t.house&&t.house[0].sampleRoomImageLocation){t.houseSampleRoomsNum=t.house.length,t.imgSrc=t.house;for(var s=0;s<t.houseSampleRoomsNum-1;s++)t.img[s+1]=Object(i.a)(t.imgSrc[s].sampleRoomImageLocation,3);t.img[0]=Object(i.a)(t.imgSrc[t.houseSampleRoomsNum-1].sampleRoomImageLocation,3),t.check=1,t.name=t.imgSrc[0].roomTypeName,t.imgSrc.length>1?(t.imgLeft=-1*window.innerWidth,e(".conPic").eq(0).css("marginLeft",t.imgLeft+"px")):e(".conPic").eq(0).css("marginLeft","0px")}if(t.numA>0){for(var o=0;o<t.numA;o++)t.x=1,t.touchen();t.x=0,t.numA=0}else if(t.numA<0){for(var m=t.numA;m<0;m++)t.x=-1,t.touchen();t.x=0,t.numA=0}else 1==t.img.length&&(t.imgLeft=-1*window.innerWidth,e(".conPic").eq(0).css("marginLeft",t.imgLeft+"px"))}).catch(function(e){console.log(e)}))})},methods:{requestFullScreen:function(){e(".conPic").eq(1).click(function(){})},isFullscreen:function(){return document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||!1},exitFullscreen:function(){this.isFullscreen()&&e(".conPic").eq(1)&&e(".conPic").eq(1).click(function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()})},touchstart:function(e){!this.isFullscreen()&&this.img.length>1?(this.startX=parseInt(e.touches[0].clientX),this.imgLeft=-1*window.innerWidth,this.control=this.imgLeft):this.startX=parseInt(e.touches[0].clientX)},touchmove:function(e){!this.isFullscreen()&&this.img.length>1?(this.endX=parseInt(e.touches[0].clientX),this.x=this.endX-this.startX,this.imgLeft=this.control+this.x,document.getElementsByClassName("conPic")[0].style.marginLeft=this.imgLeft+"px"):this.endX=parseInt(e.touches[0].clientX)},touchend:function(e){if(!this.isFullscreen()&&this.img.length>1){if(this.x=this.endX-this.startX,this.x>0&&this.x<window.innerWidth&&0!=this.endX){this.numA--;var t=this.img.length-1,n=document.getElementsByClassName("conPic")[0],i=document.getElementsByClassName("conPic")[t],s=document.getElementsByClassName("pic")[0];n.style.marginLeft=0;i.parentNode.removeChild(i),s.insertBefore(i,n),i.style.marginLeft=-1*window.innerWidth+"px",1==this.nowPage?this.nowPage=this.houseSampleRoomsNum:this.nowPage--,this.name=this.imgSrc[this.nowPage-1].roomTypeName}else if(this.x<0&&this.x>-1*window.innerWidth&&0!=this.endX){this.numA++;var o=document.getElementsByClassName("conPic")[0];o.style.marginLeft=-2*window.innerWidth+"px";var m=o;o.parentNode.removeChild(o),m.style.marginLeft=0,document.getElementsByClassName("conPic")[0].style.marginLeft=-1*window.innerWidth+"px",document.getElementsByClassName("pic")[0].appendChild(m),this.nowPage==this.houseSampleRoomsNum?this.nowPage=1:this.nowPage++,this.name=this.imgSrc[this.nowPage-1].roomTypeName}0==this.endX&&document.getElementsByClassName("conPic")[1].click(),this.endX=0}else this.x=this.endX-this.startX,this.x<0&&document.getElementsByClassName("conPic")[0].click()},touchen:function(){if(!this.isFullscreen()&&this.img.length>1)if(this.x>0&&this.x<window.innerWidth){var e=this.img.length-1,t=document.getElementsByClassName("conPic")[0],n=document.getElementsByClassName("conPic")[e],i=document.getElementsByClassName("pic")[0];t.style.marginLeft=0;n.parentNode.removeChild(n),i.insertBefore(n,t),n.style.marginLeft=-1*window.innerWidth+"px",1==this.nowPage?this.nowPage=this.houseSampleRoomsNum:this.nowPage--,this.name=this.imgSrc[this.nowPage-1].roomTypeName}else if(this.x<0&&this.x>-1*window.innerWidth){var s=document.getElementsByClassName("conPic")[0];s.style.marginLeft=-2*window.innerWidth+"px";var o=s;s.parentNode.removeChild(s),o.style.marginLeft=0,document.getElementsByClassName("conPic")[0].style.marginLeft=-1*window.innerWidth+"px",document.getElementsByClassName("pic")[0].appendChild(o),this.nowPage==this.houseSampleRoomsNum?this.nowPage=1:this.nowPage++,this.name=this.imgSrc[this.nowPage-1].roomTypeName}},scale:function(){if(document.getElementsByClassName("conPic")[1]){for(var e=[],t=0;t<this.img.length-1;t++)e[t]=this.img[t+1];e[this.img.length-1]=this.img[0],"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)&&WeixinJSBridge.invoke("imagePreview",{current:document.getElementsByClassName("conPic")[1].src,urls:e})}else if(document.getElementsByClassName("conPic")[0]){var n=[];n[0]=this.img[0],"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)&&WeixinJSBridge.invoke("imagePreview",{current:document.getElementsByClassName("conPic")[0].src,urls:n})}}},components:{},watch:{house:function(){}}}}).call(t,n("7t+N"))},jnHU:function(e,t){}});
//# sourceMappingURL=8.532c36922b97d1d8ce74.js.map